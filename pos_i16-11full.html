<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ÙƒØ§Ø´ÙŠØ±</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css" rel="stylesheet" />
  <style>
    body { background:#f3f3f3; }
    .category-btn { cursor:pointer; }
    .product-card {cursor:pointer; transition:0.2s; }
    .product-card:hover { transform:scale(1.05); }
    .bill-box { background:white; border-radius:12px; padding:15px; height:100%; }
    .order-item { border-bottom:1px dashed #ccc; padding:6px 0; }
    .category-active { background:#0d6efd !important; color:white !important; }
  </style>
</head>
<body>
<div class="container-fluid p-2">
  <div class="row g-2">

    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø±: Ø§Ù„ÙØ§ØªÙˆØ±Ø© + Ø§Ù„Ø·Ù„Ø¨ -->
    <div class="col-12 col-md-4">
      <div class="bill-box shadow-sm">
        <h4 class="mb-3">ğŸ§¾ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</h4>
        <div id="orderList"></div>
        <hr/>
        <div class="d-flex justify-content-between fw-bold fs-5">
          <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
          <span id="total">0</span> Ø±.Ø¹
        </div>
        <button class="btn btn-success w-100 mt-3" onclick="finishOrder()">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨</button>
      </div>
    </div>

    <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ…Ù†: Ø§Ù„ÙØ¦Ø§Øª + Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <div class="col-12 col-md-8">

      <!-- Ø§Ù„ÙØ¦Ø§Øª -->
      <div class="d-flex gap-2 flex-wrap mb-2" id="categoryContainer"></div>

      <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
      <div class="row g-2" id="productsContainer"></div>

    </div>
  </div>
</div>

<script>
// Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø³ÙŠØ·Ø© (ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ù‚Ù„Ù‡Ø§ Ù„Ù…Ù„Ù products.js Ù„Ø§Ø­Ù‚Ù‹Ø§)
const categories = ["ÙØ±ÙŠØ´", "ÙƒÙˆÙƒØªÙŠÙ„", "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…", "ÙƒØ§Ù†Ø²", "Ø¥Ø¶Ø§ÙØ§Øª"];

const products = [
  {id:1, name:"Ù…Ø§Ù†Ø¬Ùˆ", price:1.0, cat:"ÙØ±ÙŠØ´"},
  {id:2, name:"Ø¬ÙˆØ§ÙØ©", price:1.0, cat:"ÙØ±ÙŠØ´"},
  {id:3, name:"ÙØ±Ø§ÙˆÙ„Ø©", price:1.2, cat:"ÙƒÙˆÙƒØªÙŠÙ„"},
  {id:4, name:"Ù…ÙˆØ² Ø¨Ø§Ù„Ù„Ø¨Ù†", price:1.3, cat:"ÙƒÙˆÙƒØªÙŠÙ„"},
  {id:5, name:"ÙØ§Ù†ÙŠÙ„Ø§", price:0.700, cat:"Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…"},
  {id:6, name:"Ø´ÙŠÙƒÙˆÙ„Ø§ØªØ©", price:0.700, cat:"Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…"},
  {id:7, name:"Ø¨ÙŠØ¨Ø³ÙŠ", price:0.500, cat:"ÙƒØ§Ù†Ø²"},
  {id:8, name:"Ø³ÙÙ†", price:0.500, cat:"ÙƒØ§Ù†Ø²"}
];

let currentCategory = "ÙØ±ÙŠØ´";
let order = [];

// Ø±Ø³Ù… Ø§Ù„ÙØ¦Ø§Øª
function renderCategories(){
  const box = document.getElementById("categoryContainer");
  box.innerHTML = "";
  categories.forEach(cat =>{
    const btn = document.createElement("div");
    btn.className = "px-3 py-2 border rounded category-btn";
    if(cat === currentCategory) btn.classList.add("category-active");
    btn.textContent = cat;
    btn.onclick = ()=>{ currentCategory = cat; renderCategories(); renderProducts(); };
    box.appendChild(btn);
  });
}

// Ø±Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
function renderProducts(){
  const box = document.getElementById("productsContainer");
  box.innerHTML = "";
  const filtered = products.filter(p=> p.cat === currentCategory);
  filtered.forEach(p =>{
    const div = document.createElement("div");
    div.className = "col-4";
    div.innerHTML = `
      <div class="product-card p-2 text-center bg-white shadow-sm rounded" onclick="addToOrder(${p.id})">
        <h6>${p.name}</h6>
        <small>${p.price.toFixed(3)} Ø±.Ø¹</small>
      </div>`;
    box.appendChild(div);
  });
}

function addToOrder(id){
  const item = products.find(p=>p.id===id);
  order.push({...item});
  renderOrder();
}

// Ø±Ø³Ù… Ø§Ù„Ø·Ù„Ø¨
function renderOrder(){
  const box = document.getElementById("orderList");
  box.innerHTML = "";
  let total = 0;

  order.forEach((item, i)=>{
    total += item.price;
    const row = document.createElement("div");
    row.className = "order-item d-flex justify-content-between";
    row.innerHTML = `
      <span>${item.name}</span>
      <span>${item.price.toFixed(3)} Ø±.Ø¹ <button class='btn btn-sm btn-danger' onclick='removeItem(${i})'>x</button></span>
    `;
    box.appendChild(row);
  });

  document.getElementById("total").textContent = total.toFixed(3);
}

function removeItem(i){
  order.splice(i,1);
  renderOrder();
}

function finishOrder(){
  if(order.length === 0) return alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„Ø·Ù„Ø¨");
  alert("ØªÙ… Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ”");
  order = [];
  renderOrder();
}

// ØªØ´ØºÙŠÙ„ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ÙƒØ§Ø´ÙŠØ±
renderCategories();
renderProducts();
</script>

</body>
</html>
